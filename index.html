<html>
<head>
    <title>Stop being impatient.</title>
</head>
<iframe src="https://www.unc0ver.dev/" title="Eta wen" id="refresh" scrolling="no"></iframe>
<div class="align">
    <div id="timewrapper"><span id="time">00:05</span> until refresh.<br>
        <span id="counterwrapper">You have refreshed <span id="refreshcounter">0</span> times.</span>
    </div>
</div>

<style type="text/css">
    html {
        background-color: rgb(0,0,0, 0.98);
        overflow: hidden;
    }
    body {
        margin: 0px;
    }
    iframe {
        width: 100%;
        height: 88%;
        border: none;
    }
    #timewrapper {
        transform: translateY(5%);
        text-align: center;
    }
    #counterwrapper {
        font-size: 0.5em;
    }
    .align {
        border-radius: 10px;
        background-color: #181a1b;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: Chocolate;
        color: white;
        font-weight: 100;
        font-size: 2.5em;
        height: 12%;
        transform: translateY(-8px);
    }
    @font-face {
        font-family:Chocolate;
        src:url(fonts/painting-with-chocolate.regular-webfont.woff2) format("woff2"),
        url(fonts/painting-with-chocolate.regular-webfont.woff) format("woff"),
        url(fonts/painting-with-chocolate.regular.ttf) format("truetype");
        font-weight:400;
        font-style:normal
    }
</style>

<script>
    let refreshcounter = 0;

    window.onload = function () {
        var fiveSec = 5,
        display = document.querySelector('#time');
        startTimer(fiveSec, display);
    };
    
    function startTimer(duration, display) {
        var timer = duration, minutes, seconds;
        setInterval(function () {
            minutes = parseInt(timer / 60, 10);
            seconds = parseInt(timer % 60, 10);

            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;

            display.textContent = minutes + ":" + seconds;

            if (--timer < 0) {
                timer = duration;
                console.log("endme")
                document.getElementById('refresh').src += '';
                refreshcounter++
                document.getElementById('refreshcounter').innerHTML = refreshcounter;
            }
        }, 1000);
    }
</script>
